<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TF‑IDF Weighting Visualizer</title>
    <link rel="stylesheet" href="style.css" />
    <style>
      #controls {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
        margin-bottom: 1rem;
      }
      #controls textarea {
        width: 100%;
        height: 80px;
        font-family: monospace;
        padding: 0.5rem;
        resize: vertical;
        background: #1d2340;
        color: #e6e6e6;
        border: 1px solid #3a3f6b;
        border-radius: 4px;
      }
      #controls button {
        grid-column: 1 / -1;
        padding: 0.5rem 1rem;
        font-size: 1rem;
        border: none;
        border-radius: 6px;
        background: #525893;
        color: white;
        cursor: pointer;
        transition: background 0.25s;
      }
      #controls button:hover {
        background: #6c74b9;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>TF‑IDF Weighting</h1>
      <p>
        Explore how term frequency and inverse document frequency combine to
        emphasise distinctive words. Modify the documents and query and
        recompute to see the effects on TF‑IDF scores.  Bars are stacked for
        each document, showing the relative weight of each term.
      </p>
    </header>
    <main>
      <div id="controls">
        <label>
          Query:
          <textarea id="queryText">The cat sat on the mat</textarea>
        </label>
        <label>
          Document 1:
          <textarea id="d1Text">The cat sat on the mat.</textarea>
        </label>
        <label>
          Document 2:
          <textarea id="d2Text">The dog played in the park.</textarea>
        </label>
        <label>
          Document 3:
          <textarea id="d3Text">Cats and dogs are great pets.</textarea>
        </label>
        <button id="computeBtn">Compute TF‑IDF</button>
      </div>
      <div id="canvasContainer" style="display: flex; justify-content: center"></div>
      <div id="scores" style="margin-top: 1rem; font-size: 1rem"></div>
    </main>
    <footer>
      <p>
        Term frequency (TF) is the fraction of times a term occurs in a
        document.  Inverse document frequency (IDF) down‑weights common terms
        using the log ratio \((N+1)/(n_t+1)\), where \(N\) is the number of
        documents and \(n_t\) is the number containing term \(t\).  The TF‑IDF
        weight is simply TF&nbsp;×&nbsp;IDF.  These weighted vectors are used
        here to compute dot products and cosine similarities.
      </p>
      <p><a href="index.html">Back to menu</a></p>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.9.0/lib/p5.min.js"></script>
    <script src="tfidf.js"></script>
  </body>
</html>