<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bag‑of‑Words Scoring Visualizer</title>
    <link rel="stylesheet" href="style.css" />
    <style>
      /* Layout for the query/document controls */
      #controls {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
        margin-bottom: 1rem;
      }
      #controls textarea {
        width: 100%;
        height: 100px;
        font-family: monospace;
        padding: 0.5rem;
        resize: vertical;
        background: #1d2340;
        color: #e6e6e6;
        border: 1px solid #3a3f6b;
        border-radius: 4px;
      }
      #controls button {
        grid-column: 1 / -1;
        padding: 0.5rem 1rem;
        font-size: 1rem;
        border: none;
        border-radius: 6px;
        background: #525893;
        color: white;
        cursor: pointer;
        transition: background 0.25s;
      }
      #controls button:hover {
        background: #6c74b9;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Bag‑of‑Words Scoring</h1>
      <p>
        Compare documents using raw term frequency (dot product) and cosine
        similarity. Adjust the text below and recompute to see how scores
        change. The bar chart below displays counts for each token across the
        query and two documents.
      </p>
    </header>
    <main>
      <div id="controls">
        <label>
          Query:
          <textarea id="queryText">Bob and Alice Bicycle Shop Portland</textarea>
        </label>
        <label>
          Document 1:
          <textarea id="doc1Text"
            >At Bicycles by Bob and Alice, we have the best bicycles in Southern
            Maine.</textarea
          >
        </label>
        <label>
          Document 2:
          <textarea id="doc2Text"
            >shop shop shop shop shop portland portland portland bicycle bicycle
            bicycle</textarea
          >
        </label>
        <button id="computeBtn">Compute Scores</button>
      </div>
      <div id="canvasContainer" style="display: flex; justify-content: center"></div>
      <div id="scores" style="margin-top: 1rem; font-size: 1.1rem"></div>
    </main>
    <footer>
      <p>
        The dot product of two term‑frequency vectors \(\vec{q}\) and
        \(\vec{d}\) is the sum of products of corresponding counts:
        <code>Σᵢ qᵢ dᵢ</code>.  Cosine similarity divides this dot product by
        the product of the vector magnitudes (their Euclidean norms) to
        normalise for document length.  A value of 1 means the vectors point in
        the same direction, while 0 indicates orthogonality.
      </p>
      <p><a href="index.html">Back to menu</a></p>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.9.0/lib/p5.min.js"></script>
    <script src="bag_of_words.js"></script>
  </body>
</html>